{
  "$schema": "https://railway.app/railway.schema.json",
  "name": "VictoriaMetrics Monitoring Stack",
  "description": "Complete monitoring stack: VictoriaMetrics, vmagent, Grafana, and auth proxy",
  "services": [
    {
      "name": "victoriametrics",
      "source": {
        "repo": "thealish/railway-vmmetrics-template",
        "rootDirectory": "victoriametrics"
      },
      "variables": {
        "RETENTION_PERIOD": "1",
        "SEARCH_LATENCY_OFFSET": "30s",
        "MAX_UNIQUE_TIMESERIES": "300000"
      }
    },
    {
      "name": "vmagent",
      "source": {
        "repo": "thealish/railway-vmmetrics-template",
        "rootDirectory": "vmagent"
      },
      "variables": {
        "SCRAPE_INTERVAL": "15s"
      }
    },
    {
      "name": "grafana",
      "source": {
        "repo": "thealish/railway-vmmetrics-template",
        "rootDirectory": "grafana"
      },
      "variables": {
        "GF_SECURITY_ADMIN_USER": "admin",
        "GF_SECURITY_ADMIN_PASSWORD": {
          "generator": "secret"
        }
      }
    },
    {
      "name": "auth-proxy",
      "source": {
        "repo": "thealish/railway-vmmetrics-template",
        "rootDirectory": "auth-proxy"
      },
      "variables": {
        "API_KEY": {
          "generator": "secret"
        }
      }
    }
  ]
}